"use strict";angular.module("adn").factory("ApiClient",["$rootScope","$http",function(a,b){var c=["get","head","post","put","delete","jsonp"],d=function(c){return function(d){return d.headers=d.headers||{},d.headers.Authorization="Bearer "+a.local.accessToken,d.url=window.location.origin+"/api/"+d.url,d.method=c,"post"===c&&d.data&&(d.data=jQuery.param(d.data),d.headers["Content-Type"]="application/x-www-form-urlencoded"),b(d)}},e={};return _.each(c,function(a){e[a]=d(a)}),e}]),angular.module("adn").factory("Auth",["$rootScope","$location",function(a,b){return a.local=JSON.parse("undefined"!=typeof localStorage.data?localStorage.data:"{}"),a.$watch("local",function(){localStorage.data=JSON.stringify(a.local)},!0),{isLoggedIn:function(b){return void 0===b&&(b=a.local),b&&"undefined"!=typeof b.accessToken},logout:function(){a.local={},localStorage.clear()},login:function(){b.hash(""),a.local.accessToken=a.local.accessToken||jQuery.url(window.location).fparam("access_token")}}}]);